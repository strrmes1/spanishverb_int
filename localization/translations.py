# localization/translations.py
"""
–§–∞–π–ª —Å –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏ –¥–ª—è –≤—Å–µ—Ö —è–∑—ã–∫–æ–≤
"""

TRANSLATIONS = {
    'ru': {
        # –û—Å–Ω–æ–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
        'app_title': '–¢—Ä–µ–Ω–∞–∂–µ—Ä –∏—Å–ø–∞–Ω—Å–∫–∏—Ö –≥–ª–∞–≥–æ–ª–æ–≤ üá™üá∏',
        'welcome_subtitle': '–ò–∑—É—á–∞–π—Ç–µ —Å–ø—Ä—è–∂–µ–Ω–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π –∏–Ω—Ç–µ—Ä–≤–∞–ª—å–Ω–æ–≥–æ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è',
        'welcome_back': '–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å',
        
        # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
        'login_google': 'üîê –í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Google',
        'processing_auth': 'üîÑ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é...',
        'auth_success': 'üéâ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!',
        'auth_error': '‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Ç–æ–∫–µ–Ω–∞',
        'logout': 'üö™ –í—ã–π—Ç–∏',
        'sync': 'üíæ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è',
        'synced': '‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ!',
        
        # –û—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
        'show_answer': 'üîç –ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç–≤–µ—Ç',
        'next_verb': '‚û°Ô∏è –°–ª–µ–¥—É—é—â–∏–π –≥–ª–∞–≥–æ–ª',
        'get_new_card': 'üîÑ –ü–æ–ª—É—á–∏—Ç—å –Ω–æ–≤—É—é –∫–∞—Ä—Ç–æ—á–∫—É',
        'click_to_reveal': 'üîç –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –æ—Ç–≤–µ—Ç',
        
        # –û—Ü–µ–Ω–∫–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
        'rate_difficulty': 'üéØ –ö–∞–∫ —Ö–æ—Ä–æ—à–æ –≤—ã –∑–Ω–∞–ª–∏ –æ—Ç–≤–µ—Ç?',
        'honest_evaluation': '–ß–µ—Å—Ç–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –ø–æ–º–æ–∂–µ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º—É –ª—É—á—à–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è',
        'again': '‚ùå –°–Ω–æ–≤–∞\n(< 1 –º–∏–Ω)',
        'hard': 'üòì –°–ª–æ–∂–Ω–æ\n(< 10 –º–∏–Ω)',
        'good': 'üòä –•–æ—Ä–æ—à–æ\n(4 –¥–Ω—è)',
        'easy': 'üòé –õ–µ–≥–∫–æ\n(> 4 –¥–Ω–µ–π)',
        'again_help': '–ù–µ –ø–æ–º–Ω—é –≤–æ–æ–±—â–µ',
        'hard_help': '–ü–æ–º–Ω—é —Å —Ç—Ä—É–¥–æ–º',
        'good_help': '–ü–æ–º–Ω—é —É–≤–µ—Ä–µ–Ω–Ω–æ',
        'easy_help': '–ü–æ–º–Ω—é –º–≥–Ω–æ–≤–µ–Ω–Ω–æ',
        
        # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
        'stats_today': 'üìä –°–µ–≥–æ–¥–Ω—è',
        'stats_total': 'üìà –í—Å–µ–≥–æ',
        'reviews': '–ü–æ–≤—Ç–æ—Ä–µ–Ω–∏–π',
        'correct': '–ü—Ä–∞–≤–∏–ª—å–Ω—ã—Ö',
        'new_cards': '–ù–æ–≤—ã—Ö',
        'due_cards': '–ö –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—é',
        'accuracy': '–¢–æ—á–Ω–æ—Å—Ç—å',
        'total_cards': '–ö–∞—Ä—Ç–æ—á–µ–∫',
        'repetitions': '–ü–æ–≤—Ç–æ—Ä–µ–Ω–∏–π',
        'interval': '–ò–Ω—Ç–µ—Ä–≤–∞–ª',
        'easiness': '–õ–µ–≥–∫–æ—Å—Ç—å',
        'interval_days': '–¥–Ω.',
        
        # –ù–∞—Å—Ç—Ä–æ–π–∫–∏
        'settings': '‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏',
        'language': 'üåê –Ø–∑—ã–∫',
        'new_cards_per_day': '–ù–æ–≤—ã—Ö –∫–∞—Ä—Ç–æ—á–µ–∫ –≤ –¥–µ–Ω—å',
        'selected_tenses': '–í—ã–±–µ—Ä–∏—Ç–µ –≤—Ä–µ–º–µ–Ω–∞ –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è',
        'apply_settings': '‚úÖ –ü—Ä–∏–º–µ–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏',
        'settings_applied': '‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã!',
        'change_settings_hint': 'üí° –ò–∑–º–µ–Ω–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—ã—à–µ, —á—Ç–æ–±—ã –ø–æ—è–≤–∏–ª–∞—Å—å –∫–Ω–æ–ø–∫–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è',
        
        # –í—Ä–µ–º–µ–Ω–∞ –≥–ª–∞–≥–æ–ª–æ–≤
        'presente': 'Presente',
        'indefinido': 'Pret√©rito Indefinido',
        'subjuntivo': 'Subjuntivo',
        'imperfecto': 'Imperfecto',
        
        # –°–æ–æ–±—â–µ–Ω–∏—è
        'completed_today': 'üéâ –û—Ç–ª–∏—á–Ω–æ! –í—ã –∑–∞–≤–µ—Ä—à–∏–ª–∏ –≤—Å–µ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è –Ω–∞ —Å–µ–≥–æ–¥–Ω—è!',
        'come_back_tomorrow': '–í–æ–∑–≤—Ä–∞—â–∞–π—Ç–µ—Å—å –∑–∞–≤—Ç—Ä–∞ –¥–ª—è –Ω–æ–≤—ã—Ö –∫–∞—Ä—Ç–æ—á–µ–∫ –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏.',
        'card_data_corrupted': '‚ùå –î–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω—ã',
        
        # –ü—Ä–∞–≤–∏–ª–∞ –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏
        'grammar_rules': 'üìö –ü—Ä–∞–≤–∏–ª–∞ —Å–ø—Ä—è–∂–µ–Ω–∏—è',
        'study_tips': 'üí° –°–æ–≤–µ—Ç—ã –ø–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–º—É –∏–∑—É—á–µ–Ω–∏—é',
        
        # –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ (–¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è)
        'smart_repetition': 'üß† –£–º–Ω–æ–µ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ',
        'smart_repetition_desc': '–ê–ª–≥–æ—Ä–∏—Ç–º SM-2 –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–∞—Ä—Ç–æ—á–∫–∏ –∏–º–µ–Ω–Ω–æ —Ç–æ–≥–¥–∞, –∫–æ–≥–¥–∞ –≤—ã –≥–æ—Ç–æ–≤—ã –∏—Ö –∑–∞–±—ã—Ç—å',
        'detailed_stats': 'üìä –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞', 
        'detailed_stats_desc': '–û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ –∫–∞–∂–¥–æ–º—É –≥–ª–∞–≥–æ–ª—É –∏ –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–¥–µ–ª—å–Ω–æ',
        'cloud_sync': '‚òÅÔ∏è –û–±–ª–∞—á–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ',
        'cloud_sync_desc': '–ò–∑—É—á–∞–π—Ç–µ –Ω–∞ –ª—é–±–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ, –ø—Ä–æ–≥—Ä–µ—Å—Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏',
        
        # –°–æ–≤–µ—Ç—ã –ø–æ –∏–∑—É—á–µ–Ω–∏—é
        'srs_principles': 'üß† –ü—Ä–∏–Ω—Ü–∏–ø—ã –∏–Ω—Ç–µ—Ä–≤–∞–ª—å–Ω–æ–≥–æ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è',
        'daily_practice': 'üìÖ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Ä–µ–∂–∏–º –∏–∑—É—á–µ–Ω–∏—è',
        'srs_how_it_works': '–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞:',
        'srs_before_forget': '–ö–∞—Ä—Ç–æ—á–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è **–ø—Ä—è–º–æ –ø–µ—Ä–µ–¥ —Ç–µ–º, –∫–∞–∫ –≤—ã –∏—Ö –∑–∞–±—É–¥–µ—Ç–µ**',
        'srs_increasing_intervals': '**–£–≤–µ–ª–∏—á–∏–≤–∞—é—â–∏–µ—Å—è –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã** –ø—Ä–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–∞—Ö',
        'srs_more_frequent': '**–ß–∞—â–µ –ø–æ–≤—Ç–æ—Ä—è—é—Ç—Å—è** –ø—Ä–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–∞—Ö',
        'honest_self_evaluation': '–ß–µ—Å—Ç–Ω–∞—è —Å–∞–º–æ–æ—Ü–µ–Ω–∫–∞ - –∫–ª—é—á –∫ —É—Å–ø–µ—Ö—É:',
        'daily_practice_text': '–ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞:',
        'daily_better': '**10-20 –º–∏–Ω—É—Ç** –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –ª—É—á—à–µ, —á–µ–º 2 —á–∞—Å–∞ —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é',
        'regularity_important': '**–†–µ–≥—É–ª—è—Ä–Ω–æ—Å—Ç—å** –≤–∞–∂–Ω–µ–µ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏',
        'same_time_helps': '**–û–¥–Ω–æ –∏ —Ç–æ –∂–µ –≤—Ä–µ–º—è** –ø–æ–º–æ–≥–∞–µ—Ç –≤—ã—Ä–∞–±–æ—Ç–∞—Ç—å –ø—Ä–∏–≤—ã—á–∫—É',
        'optimal_settings': '–û–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:',
        'beginners_settings': '*–ù–∞—á–∏–Ω–∞—é—â–∏–µ*: 5-10 –Ω–æ–≤—ã—Ö –∫–∞—Ä—Ç–æ—á–µ–∫, 20-50 –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π, —Ç–æ–ª—å–∫–æ Presente',
        'advanced_settings': '*–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ*: 15-25 –Ω–æ–≤—ã—Ö –∫–∞—Ä—Ç–æ—á–µ–∫, 100+ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π, –≤—Å–µ –≤—Ä–µ–º–µ–Ω–∞',
    },
    
    'en': {
        # Main interface elements
        'app_title': 'Spanish Verb Trainer üá™üá∏',
        'welcome_subtitle': 'Learn conjugations with spaced repetition system',
        'welcome_back': 'Welcome back',
        
        # Authentication
        'login_google': 'üîê Login with Google',
        'processing_auth': 'üîÑ Processing authorization...',
        'auth_success': 'üéâ Authorization completed successfully!',
        'auth_error': '‚ùå Error getting token',
        'logout': 'üö™ Logout',
        'sync': 'üíæ Sync',
        'synced': '‚úÖ Synced!',
        
        # Main interface
        'show_answer': 'üîç Show answer',
        'next_verb': '‚û°Ô∏è Next verb',
        'get_new_card': 'üîÑ Get new card',
        'click_to_reveal': 'üîç Click the button to see the answer',
        
        # Difficulty rating
        'rate_difficulty': 'üéØ How well did you know the answer?',
        'honest_evaluation': 'Honest evaluation helps the algorithm plan better repetitions',
        'again': '‚ùå Again\n(< 1 min)',
        'hard': 'üòì Hard\n(< 10 min)',
        'good': 'üòä Good\n(4 days)',
        'easy': 'üòé Easy\n(> 4 days)',
        'again_help': "Don't remember at all",
        'hard_help': 'Remember with difficulty',
        'good_help': 'Remember confidently',
        'easy_help': 'Remember instantly',
        
        # Statistics
        'stats_today': 'üìä Today',
        'stats_total': 'üìà Total',
        'reviews': 'Reviews',
        'correct': 'Correct',
        'new_cards': 'New',
        'due_cards': 'Due',
        'accuracy': 'Accuracy',
        'total_cards': 'Cards',
        'repetitions': 'Reviews',
        'interval': 'Interval',
        'easiness': 'Ease',
        'interval_days': 'days',
        
        # Settings
        'settings': '‚öôÔ∏è Settings',
        'language': 'üåê Language',
        'new_cards_per_day': 'New cards per day',
        'selected_tenses': 'Select tenses to study',
        'apply_settings': '‚úÖ Apply settings',
        'settings_applied': '‚úÖ Settings applied!',
        'change_settings_hint': 'üí° Change settings above to see the apply button',
        
        # Verb tenses
        'presente': 'Present',
        'indefinido': 'Preterite',
        'subjuntivo': 'Subjunctive',
        'imperfecto': 'Imperfect',
        
        # Messages
        'completed_today': 'üéâ Great! You completed all reviews for today!',
        'come_back_tomorrow': 'Come back tomorrow for new cards or change settings in the sidebar.',
        'card_data_corrupted': '‚ùå Card data is corrupted',
        
        # Grammar rules
        'grammar_rules': 'üìö Conjugation rules',
        'study_tips': 'üí° Effective study tips',
        
        # Benefits (for welcome page)
        'smart_repetition': 'üß† Smart repetition',
        'smart_repetition_desc': 'SM-2 algorithm shows cards exactly when you are about to forget them',
        'detailed_stats': 'üìä Detailed statistics',
        'detailed_stats_desc': 'Track progress for each verb and tense separately',
        'cloud_sync': '‚òÅÔ∏è Cloud sync',
        'cloud_sync_desc': 'Study on any device, progress syncs automatically',
        
        # Study tips
        'srs_principles': 'üß† Spaced repetition principles',
        'daily_practice': 'üìÖ Recommended study routine',
        'srs_how_it_works': 'How the system works:',
        'srs_before_forget': 'Cards are shown **right before you forget them**',
        'srs_increasing_intervals': '**Increasing intervals** for correct answers',
        'srs_more_frequent': '**More frequent repetition** for incorrect answers',
        'honest_self_evaluation': 'Honest self-evaluation is the key to success:',
        'daily_practice_text': 'Daily practice:',
        'daily_better': '**10-20 minutes** every day is better than 2 hours once a week',
        'regularity_important': '**Regularity** is more important than duration',
        'same_time_helps': '**Same time** helps build a habit',
        'optimal_settings': 'Optimal settings:',
        'beginners_settings': '*Beginners*: 5-10 new cards, 20-50 reviews, Present only',
        'advanced_settings': '*Advanced*: 15-25 new cards, 100+ reviews, all tenses',
    }
}

# –ü—Ä–∞–≤–∏–ª–∞ –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏
GRAMMAR_RULES = {
    'ru': {
        'presente': {
            'title': '–ù–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è (Presente de Indicativo)',
            'content': '''
**–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –≥–ª–∞–≥–æ–ª—ã -AR:**
–û—Å–Ω–æ–≤–∞ + -o, -as, -a, -amos, -√°is, -an
*Ejemplo: hablar ‚Üí hablo, hablas, habla, hablamos, habl√°is, hablan*

**–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –≥–ª–∞–≥–æ–ª—ã -ER:**
–û—Å–Ω–æ–≤–∞ + -o, -es, -e, -emos, -√©is, -en
*Ejemplo: comer ‚Üí como, comes, come, comemos, com√©is, comen*

**–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –≥–ª–∞–≥–æ–ª—ã -IR:**
–û—Å–Ω–æ–≤–∞ + -o, -es, -e, -imos, -√≠s, -en
*Ejemplo: vivir ‚Üí vivo, vives, vive, vivimos, viv√≠s, viven*

**–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –≥–ª–∞–≥–æ–ª—ã** –∏–º–µ—é—Ç –æ—Å–æ–±—ã–µ —Ñ–æ—Ä–º—ã —Å–ø—Ä—è–∂–µ–Ω–∏—è.
            '''
        },
        'indefinido': {
            'title': '–ü—Ä–æ—à–µ–¥—à–µ–µ –≤—Ä–µ–º—è (Pret√©rito Indefinido)',
            'content': '''
**–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –≥–ª–∞–≥–æ–ª—ã -AR:**
–û—Å–Ω–æ–≤–∞ + -√©, -aste, -√≥, -amos, -asteis, -aron
*Ejemplo: hablar ‚Üí habl√©, hablaste, habl√≥, hablamos, hablasteis, hablaron*

**–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –≥–ª–∞–≥–æ–ª—ã -ER/-IR:**
–û—Å–Ω–æ–≤–∞ + -√≠, -iste, -i√≥, -imos, -isteis, -ieron
*Ejemplo: comer ‚Üí com√≠, comiste, comi√≥, comimos, comisteis, comieron*

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –≤ –ø—Ä–æ—à–ª–æ–º, –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã –≤—Ä–µ–º–µ–Ω–∏.
            '''
        },
        'subjuntivo': {
            'title': '–°–æ—Å–ª–∞–≥–∞—Ç–µ–ª—å–Ω–æ–µ –Ω–∞–∫–ª–æ–Ω–µ–Ω–∏–µ (Subjuntivo Presente)',
            'content': '''
**–ì–ª–∞–≥–æ–ª—ã -AR:**
–û—Å–Ω–æ–≤–∞ + -e, -es, -e, -emos, -√©is, -en
*Ejemplo: hablar ‚Üí hable, hables, hable, hablemos, habl√©is, hablen*

**–ì–ª–∞–≥–æ–ª—ã -ER/-IR:**
–û—Å–Ω–æ–≤–∞ + -a, -as, -a, -amos, -√°is, -an
*Ejemplo: comer ‚Üí coma, comas, coma, comamos, com√°is, coman*

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –°–æ–º–Ω–µ–Ω–∏—è, –∂–µ–ª–∞–Ω–∏—è, —ç–º–æ—Ü–∏–∏, –Ω–µ—Ä–µ–∞–ª—å–Ω—ã–µ —Å–∏—Ç—É–∞—Ü–∏–∏.
            '''
        },
        'imperfecto': {
            'title': '–ü—Ä–æ—à–µ–¥—à–µ–µ –Ω–µ—Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è (Pret√©rito Imperfecto)',
            'content': '''
**–ì–ª–∞–≥–æ–ª—ã -AR:**
–û—Å–Ω–æ–≤–∞ + -aba, -abas, -aba, -√°bamos, -abais, -aban
*Ejemplo: hablar ‚Üí hablaba, hablabas, hablaba, habl√°bamos, hablabais, hablaban*

**–ì–ª–∞–≥–æ–ª—ã -ER/-IR:**
–û—Å–Ω–æ–≤–∞ + -√≠a, -√≠as, -√≠a, -√≠amos, -√≠ais, -√≠an
*Ejemplo: vivir ‚Üí viv√≠a, viv√≠as, viv√≠a, viv√≠amos, viv√≠ais, viv√≠an*

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –ü–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –¥–µ–π—Å—Ç–≤–∏—è –≤ –ø—Ä–æ—à–ª–æ–º, –æ–ø–∏—Å–∞–Ω–∏—è, –ø—Ä–∏–≤—ã—á–∫–∏.
            '''
        }
    },
    
    'en': {
        'presente': {
            'title': 'Present Tense (Presente de Indicativo)',
            'content': '''
**Regular -AR verbs:**
Stem + -o, -as, -a, -amos, -√°is, -an
*Example: hablar ‚Üí hablo, hablas, habla, hablamos, habl√°is, hablan*

**Regular -ER verbs:**
Stem + -o, -es, -e, -emos, -√©is, -en
*Example: comer ‚Üí como, comes, come, comemos, com√©is, comen*

**Regular -IR verbs:**
Stem + -o, -es, -e, -imos, -√≠s, -en
*Example: vivir ‚Üí vivo, vives, vive, vivimos, viv√≠s, viven*

**Irregular verbs** have special conjugation forms.
            '''
        },
        'indefinido': {
            'title': 'Past Tense (Pret√©rito Indefinido)',
            'content': '''
**Regular -AR verbs:**
Stem + -√©, -aste, -√≥, -amos, -asteis, -aron
*Example: hablar ‚Üí habl√©, hablaste, habl√≥, hablamos, hablasteis, hablaron*

**Regular -ER/-IR verbs:**
Stem + -√≠, -iste, -i√≥, -imos, -isteis, -ieron
*Example: comer ‚Üí com√≠, comiste, comi√≥, comimos, comisteis, comieron*

**Usage:** Completed actions in the past, specific moments in time.
            '''
        },
        'subjuntivo': {
            'title': 'Subjunctive Mood (Subjuntivo Presente)',
            'content': '''
**-AR verbs:**
Stem + -e, -es, -e, -emos, -√©is, -en
*Example: hablar ‚Üí hable, hables, hable, hablemos, habl√©is, hablen*

**-ER/-IR verbs:**
Stem + -a, -as, -a, -amos, -√°is, -an
*Example: comer ‚Üí coma, comas, coma, comamos, com√°is, coman*

**Usage:** Doubts, desires, emotions, unreal situations.
            '''
        },
        'imperfecto': {
            'title': 'Imperfect Past (Pret√©rito Imperfecto)',
            'content': '''
**-AR verbs:**
Stem + -aba, -abas, -aba, -√°bamos, -abais, -aban
*Example: hablar ‚Üí hablaba, hablabas, hablaba, habl√°bamos, hablabais, hablaban*

**-ER/-IR verbs:**
Stem + -√≠a, -√≠as, -√≠a, -√≠amos, -√≠ais, -√≠an
*Example: vivir ‚Üí viv√≠a, viv√≠as, viv√≠a, viv√≠amos, viv√≠ais, viv√≠an*

**Usage:** Repeated actions in the past, descriptions, habits.
            '''
        }
    }
}

def get_text(key: str, language: str = 'ru') -> str:
    """
    –ü–æ–ª—É—á–∏—Ç—å –ø–µ—Ä–µ–≤–æ–¥ –ø–æ –∫–ª—é—á—É
    
    Args:
        key: –ö–ª—é—á –ø–µ—Ä–µ–≤–æ–¥–∞ (–º–æ–∂–µ—Ç –±—ã—Ç—å –≤–ª–æ–∂–µ–Ω–Ω—ã–º —á–µ—Ä–µ–∑ —Ç–æ—á–∫—É)
        language: –ö–æ–¥ —è–∑—ã–∫–∞ ('ru' –∏–ª–∏ 'en')
    
    Returns:
        –ü–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç –∏–ª–∏ –∫–ª—é—á –µ—Å–ª–∏ –ø–µ—Ä–µ–≤–æ–¥ –Ω–µ –Ω–∞–π–¥–µ–Ω
    """
    if language not in TRANSLATIONS:
        language = 'ru'  # Fallback –Ω–∞ —Ä—É—Å—Å–∫–∏–π
    
    translations = TRANSLATIONS[language]
    
    # –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –∫–ª—é—á–µ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä "stats.today")
    keys = key.split('.')
    value = translations
    
    try:
        for k in keys:
            value = value[k]
        return value
    except (KeyError, TypeError):
        # –ï—Å–ª–∏ –ø–µ—Ä–µ–≤–æ–¥ –Ω–µ –Ω–∞–π–¥–µ–Ω, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –∫–ª—é—á
        return f"[{key}]"

def get_grammar_rule(tense: str, language: str = 'ru') -> dict:
    """
    –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–∞–≤–∏–ª–æ –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏ –¥–ª—è –≤—Ä–µ–º–µ–Ω–∏
    
    Args:
        tense: –í—Ä–µ–º—è –≥–ª–∞–≥–æ–ª–∞
        language: –ö–æ–¥ —è–∑—ã–∫–∞
    
    Returns:
        –°–ª–æ–≤–∞—Ä—å —Å title –∏ content
    """
    if language not in GRAMMAR_RULES:
        language = 'ru'
    
    return GRAMMAR_RULES[language].get(tense, {
        'title': f'[{tense}]',
        'content': 'Grammar rule not found'
    })

def get_available_languages() -> dict:
    """–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —è–∑—ã–∫–æ–≤"""
    return {
        'ru': 'üá∑üá∫ –†—É—Å—Å–∫–∏–π',
        'en': 'üá∫üá∏ English'
    }

def get_current_language() -> str:
    """–ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–∏–π —è–∑—ã–∫ –∏–∑ session_state"""
    import streamlit as st
    return st.session_state.get('interface_language', 'ru')

def set_language(language_code: str):
    """–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —è–∑—ã–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞"""
    import streamlit as st
    if language_code in get_available_languages():
        st.session_state.interface_language = language_code
    else:
        st.session_state.interface_language = 'ru'

# –°–æ–∫—Ä–∞—â–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞
def t(key: str, language: str = None) -> str:
    """–°–æ–∫—Ä–∞—â–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–≤–æ–¥–∞"""
    if language is None:
        language = get_current_language()
    return get_text(key, language)
